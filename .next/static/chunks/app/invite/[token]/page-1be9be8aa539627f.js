(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7956],{26769:(e,s,t)=>{Promise.resolve().then(t.bind(t,65519))},35695:(e,s,t)=>{"use strict";var a=t(18999);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},65519:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var a=t(95155),r=t(12115),u=t(35695);function n(){let{token:e}=(0,u.useParams)(),s=(0,u.useRouter)(),[t,n]=(0,r.useState)(""),[o,i]=(0,r.useState)(""),[l,d]=(0,r.useState)(""),[c,m]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(async()=>{let s=await fetch("/api/invitations/verify",{method:"POST",body:JSON.stringify({token:e})}),t=await s.json();s.ok?n(t.email):d("Lien invalide ou expir\xe9."),m(!1)})()},[e]);let h=async()=>{let t=await fetch("/api/invitations/complete",{method:"POST",body:JSON.stringify({token:e,password:o})}),a=await t.json();t.ok?s.push("/login"):d(a.error||"Erreur")};return c?(0,a.jsx)("p",{children:"Chargement..."}):l?(0,a.jsx)("p",{className:"text-red-600",children:l}):(0,a.jsxs)("div",{className:"max-w-md mx-auto mt-10 p-6 border rounded shadow",children:[(0,a.jsx)("h1",{className:"text-xl font-bold mb-4",children:"Cr\xe9er votre mot de passe"}),(0,a.jsxs)("p",{className:"mb-2",children:["Adresse invit\xe9e : ",t]}),(0,a.jsx)("input",{type:"password",placeholder:"Mot de passe",value:o,onChange:e=>i(e.target.value),className:"w-full mb-3 p-2 border rounded"}),(0,a.jsx)("button",{onClick:h,className:"w-full bg-blue-600 text-white p-2 rounded",children:"Cr\xe9er mon compte"})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[8441,1684,7358],()=>s(26769)),_N_E=e.O()}]);