(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5870],{35695:(e,r,a)=>{"use strict";var s=a(18999);a.o(s,"useParams")&&a.d(r,{useParams:function(){return s.useParams}}),a.o(s,"useRouter")&&a.d(r,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(r,{useSearchParams:function(){return s.useSearchParams}})},43663:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>o});var s=a(95155),t=a(12115),u=a(35695),n=a(75168);function o(){let e=(0,u.useRouter)(),r=(0,n.U)(),[a,o]=(0,t.useState)("Confirmation en cours...");return(0,t.useEffect)(()=>{(async()=>{let{error:a}=await r.auth.exchangeCodeForSession(window.location.href);if(a)o("Erreur de connexion. Lien invalide ou expir\xe9."),console.error(a);else{var s;let{data:{user:a}}=await r.auth.getUser(),t=null==a?void 0:null===(s=a.user_metadata)||void 0===s?void 0:s.role;"admin"===t?e.push("/dashboard/admin"):"tuteur"===t?e.push("/dashboard/tuteur"):"eleve"===t?e.push("/dashboard/eleve"):e.push("/dashboard")}})()},[e,r]),(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"Confirmation du compte"}),(0,s.jsx)("p",{children:a})]})}},75168:(e,r,a)=>{"use strict";a.d(r,{U:()=>u});var s=a(99535),t=a(49509);let u=()=>(0,s.createBrowserClient)(t.env.NEXT_PUBLIC_SUPABASE_URL,t.env.NEXT_PUBLIC_SUPABASE_ANON_KEY)},85709:(e,r,a)=>{Promise.resolve().then(a.bind(a,43663))}},e=>{var r=r=>e(e.s=r);e.O(0,[851,9535,8441,1684,7358],()=>r(85709)),_N_E=e.O()}]);