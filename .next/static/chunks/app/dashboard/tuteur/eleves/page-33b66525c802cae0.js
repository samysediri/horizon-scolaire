(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6584],{30689:(e,t,s)=>{Promise.resolve().then(s.bind(s,84969))},84969:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var a=s(95155),r=s(12115),l=s(10851),n=s(6874),i=s.n(n),d=s(49509);let c=(0,l.UU)(d.env.NEXT_PUBLIC_SUPABASE_URL,d.env.NEXT_PUBLIC_SUPABASE_ANON_KEY);function u(){let[e,t]=(0,r.useState)([]),[s,l]=(0,r.useState)(""),[n,d]=(0,r.useState)("");return(0,r.useEffect)(()=>{(async()=>{let{data:{user:e},error:s}=await c.auth.getUser();if(s||!e)return;d(e.id);let{data:a}=await c.from("profiles").select("*").eq("id",e.id).maybeSingle();a&&l(a.first_name);let{data:r,error:n}=await c.from("eleves").select("*").eq("tuteur_id",e.id);!n&&r&&t(r)})()},[]),(0,a.jsxs)("div",{className:"p-6 max-w-3xl mx-auto",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Mes \xe9l\xe8ves"}),(0,a.jsxs)("ul",{className:"space-y-4",children:[e.map(e=>(0,a.jsxs)("li",{className:"border p-4 rounded hover:bg-gray-50",children:[(0,a.jsxs)(i(),{href:"/dashboard/tuteur/eleves/".concat(e.id),className:"text-blue-600 text-lg font-semibold hover:underline",children:[e.prenom," ",e.nom]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Parent : ",e.parent_email]})]},e.id)),0===e.length&&(0,a.jsx)("p",{className:"text-gray-500",children:"Aucun \xe9l\xe8ve trouv\xe9."})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[851,6874,8441,1684,7358],()=>t(30689)),_N_E=e.O()}]);