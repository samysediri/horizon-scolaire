(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4124],{69493:(e,n,a)=>{"use strict";a.r(n),a.d(n,{default:()=>p});var r=a(95155),l=a(12115),t=a(10851),s=a(49509);let o=(0,t.UU)(s.env.NEXT_PUBLIC_SUPABASE_URL,s.env.NEXT_PUBLIC_SUPABASE_ANON_KEY);function p(){let[e,n]=(0,l.useState)({prenom:"",nom:"",email:"",lien_lessonspace:"",parent_nom:"",parent_prenom:"",parent_email:""}),[a,t]=(0,l.useState)(""),s=a=>{n({...e,[a.target.name]:a.target.value})},p=async n=>{n.preventDefault();let{data:{user:a}}=await o.auth.getUser();if(!a){t("Erreur : utilisateur non authentifi\xe9.");return}let{error:r}=await o.from("eleves").insert({prenom:e.prenom,nom:e.nom,email:e.email,lien_lessonspace:e.lien_lessonspace,parent_nom:e.parent_nom,parent_prenom:e.parent_prenom,parent_email:e.parent_email,tuteur_id:a.id});r?t("Erreur Supabase : "+r.message):t("\xc9l\xe8ve ajout\xe9 avec succ\xe8s!")};return(0,r.jsxs)("div",{className:"p-4 max-w-xl mx-auto",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Ajouter un \xe9l\xe8ve"}),(0,r.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[(0,r.jsx)("input",{type:"text",name:"prenom",placeholder:"Pr\xe9nom de l'\xe9l\xe8ve",onChange:s,className:"w-full border p-2 rounded",required:!0}),(0,r.jsx)("input",{type:"text",name:"nom",placeholder:"Nom de l'\xe9l\xe8ve",onChange:s,className:"w-full border p-2 rounded",required:!0}),(0,r.jsx)("input",{type:"email",name:"email",placeholder:"Courriel de l'\xe9l\xe8ve",onChange:s,className:"w-full border p-2 rounded",required:!0}),(0,r.jsx)("input",{type:"text",name:"lien_lessonspace",placeholder:"Lien Lessonspace",onChange:s,className:"w-full border p-2 rounded"}),(0,r.jsx)("input",{type:"text",name:"parent_prenom",placeholder:"Pr\xe9nom du parent",onChange:s,className:"w-full border p-2 rounded"}),(0,r.jsx)("input",{type:"text",name:"parent_nom",placeholder:"Nom du parent",onChange:s,className:"w-full border p-2 rounded"}),(0,r.jsx)("input",{type:"email",name:"parent_email",placeholder:"Courriel du parent",onChange:s,className:"w-full border p-2 rounded"}),(0,r.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Ajouter l'\xe9l\xe8ve"})]}),a&&(0,r.jsx)("p",{className:"mt-4 text-center",children:a})]})}},82557:(e,n,a)=>{Promise.resolve().then(a.bind(a,69493))}},e=>{var n=n=>e(e.s=n);e.O(0,[851,8441,1684,7358],()=>n(82557)),_N_E=e.O()}]);